@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Fuente: asegúrate de exponer --font-poppins desde next/font en layout.tsx */
  --font-sans: var(--font-poppins);

  /* ---- Brand tokens (HSL sin hsl()) ---- */
  --medical-primary: 199 100% 37%; /* #007BBA */
  --medical-primary-light: 198 78% 60%; /* #4DB8E8 */
  --medical-secondary: 215 27% 97%; /* #F5F7FA */
  --medical-accent: 209 15% 69%; /* #A9B3BD */
  --medical-white: 0 0% 100%; /* #FFFFFF */
  --medical-dark: 210 15% 23%; /* #2C3E50 */

  /* ---- Semantic tokens (map a la paleta médica) ---- */
  --color-background: hsl(var(--medical-white));
  --color-foreground: hsl(var(--medical-dark));

  --color-card: hsl(var(--medical-white));
  --color-card-foreground: hsl(var(--medical-dark));

  --color-popover: hsl(var(--medical-white));
  --color-popover-foreground: hsl(var(--medical-dark));

  --color-primary: hsl(var(--medical-primary));
  --color-primary-foreground: hsl(var(--medical-white));

  --color-secondary: hsl(var(--medical-secondary));
  --color-secondary-foreground: hsl(var(--medical-dark));

  --color-muted: hsl(var(--medical-secondary));
  --color-muted-foreground: hsl(var(--medical-accent));

  --color-accent: hsl(var(--medical-accent));
  --color-accent-foreground: hsl(var(--medical-dark));

  --color-destructive: hsl(0 84.2% 60.2%);
  --color-destructive-foreground: hsl(var(--medical-white));

  --color-border: hsl(215 20% 90%);
  --color-input: hsl(215 20% 95%);
  --color-ring: hsl(var(--medical-primary));

  /* Radio global + derivados (coincide con tu diseño) */
  --radius: 0.5rem;
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* ---- Sidebar tokens (mantengo tu API) ---- */
  --color-sidebar: hsl(0 0% 98%);
  --color-sidebar-foreground: hsl(240 5.3% 26.1%);
  --color-sidebar-primary: hsl(240 5.9% 10%);
  --color-sidebar-primary-foreground: hsl(0 0% 98%);
  --color-sidebar-accent: hsl(240 4.8% 95.9%);
  --color-sidebar-accent-foreground: hsl(240 5.9% 10%);
  --color-sidebar-border: hsl(220 13% 91%);
  --color-sidebar-ring: hsl(217.2 91.2% 59.8%);

  /* ---- Design extras ---- */
  --hero-gradient: linear-gradient(
    135deg,
    hsl(var(--medical-primary)),
    hsl(var(--medical-primary-light))
  );
  --section-gradient: linear-gradient(
    180deg,
    hsl(var(--medical-white)),
    hsl(var(--medical-secondary))
  );
  --card-shadow: 0 4px 20px -4px hsl(var(--medical-primary) / 0.1);
  --card-shadow-hover: 0 8px 30px -4px hsl(var(--medical-primary) / 0.15);
  --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ===== Dark mode (sobrescribe lo necesario) ===== */
.dark {
  --color-background: oklch(0.145 0 0);
  --color-foreground: oklch(0.985 0 0);

  --color-card: oklch(0.205 0 0);
  --color-card-foreground: oklch(0.985 0 0);

  --color-popover: oklch(0.205 0 0);
  --color-popover-foreground: oklch(0.985 0 0);

  --color-primary: oklch(0.922 0 0);
  --color-primary-foreground: oklch(0.205 0 0);

  --color-secondary: oklch(0.269 0 0);
  --color-secondary-foreground: oklch(0.985 0 0);

  --color-muted: oklch(0.269 0 0);
  --color-muted-foreground: oklch(0.708 0 0);

  --color-accent: oklch(0.269 0 0);
  --color-accent-foreground: oklch(0.985 0 0);

  --color-destructive: oklch(0.704 0.191 22.216);
  --color-border: oklch(1 0 0 / 10%);
  --color-input: oklch(1 0 0 / 15%);
  --color-ring: oklch(0.556 0 0);

  /* Sidebar dark */
  --color-sidebar: oklch(0.205 0 0);
  --color-sidebar-foreground: oklch(0.985 0 0);
  --color-sidebar-primary: oklch(0.488 0.243 264.376);
  --color-sidebar-primary-foreground: oklch(0.985 0 0);
  --color-sidebar-accent: oklch(0.269 0 0);
  --color-sidebar-accent-foreground: oklch(0.985 0 0);
  --color-sidebar-border: oklch(1 0 0 / 10%);
  --color-sidebar-ring: oklch(0.556 0 0);
}

/* ===== Base resets ===== */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground font-sans;
  }
}

/* ===== Animations ===== */
@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes scale-hover {
  from {
    transform: scale(1);
  }
  to {
    transform: scale(1.02);
  }
}
@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

/* ===== Utilities (Tailwind v4) ===== */
@utility hero-gradient {
  background: var(--hero-gradient);
}
@utility section-gradient {
  background: var(--section-gradient);
}
@utility card-shadow {
  box-shadow: var(--card-shadow);
}
@utility card-shadow-hover {
  box-shadow: var(--card-shadow-hover);
}
@utility transition-smooth {
  transition: var(--transition-smooth);
}
@utility animate-fade-up {
  animation: fade-up 0.6s ease-out;
}
@utility animate-float {
  animation: float 3s ease-in-out infinite;
}
@utility hover-scale {
  transition: var(--transition-smooth);
}
